<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/fixedheader/3.4.0/css/fixedHeader.dataTables.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css"
    />
    <title>Data Cek Cicilan</title>
    <style>
      table.dataTable thead th {
        white-space: nowrap;
      }
    </style>
  </head>
  <body">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
          <h3 class="text-center mb-4 mt-4">Data Cek Cicilan</h3>
          <h4 class="text-center mb-4" id="packageName">Timestamp</h4>
          <!-- <br> -->
          <!-- <br> -->
          <!-- <a href="input.html" type="button" class="btn btn-primary mt-3 mb-3">+ Tambah Barang</a> -->
          <br>
          <br>
          <table
            id="example"
            class="table table-striped table-bordered mt-2 mb-2"
            style="width: 100%"
          ></table>
          <br />
          <br />
          <p id="passingGrade"></p>
        </div>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/fixedheader/3.4.0/js/dataTables.fixedHeader.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="/formatRupiah.js"></script>
    <!-- <script type="text/javascript" src="data.json"></script> -->
    <script type="text/javascript">
       $(document).ready(function () {
    $("#example").DataTable({
      ajax: "https://script.google.com/macros/s/AKfycbwYSs_8YbgO2rnD8FMd44PwpmI-rYbZlDr9t9v02PsRzRLXoDtmBNPA2N1asfs8upDG/exec",
      columns: [
        {
            title: "Tanggal",
            data: "Tanggal",
            render: function(data) {
          // Ubah format tanggal dari yyyy-mm-dd ke yyyy/mm/dd
          var date = new Date(data);
          var year = date.getFullYear();
          var month = (date.getMonth() + 1).toString().padStart(2, '0');
          var day = date.getDate().toString().padStart(2, '0');
          return year + '/' + month + '/' + day;
        },
        },
        {
            title: "Waktu",
            data: "Waktu",
            render: function (data) {
          // Ubah format waktu dari "1899-12-30T07:46:12.000Z" ke "14:09:48"
          var time = new Date(data);
          var hours = time.getUTCHours().toString().padStart(2, '0');
          var minutes = time.getUTCMinutes().toString().padStart(2, '0');
          var seconds = time.getUTCSeconds().toString().padStart(2, '0');
          return hours + ':' + minutes + ':' + seconds;
        },
            
        },
        {
            title: "No Rekening",
            data: "No Rekening",
        },
        {
            title: "Jenis Astaguna",
            data: "Jenis Astaguna",
          },
          {
            title: "Nama Nasabah",
            data: "Nama Nasabah",
          },
          {
            title: "Jumlah Pinjaman",
            data: "Jumlah Pinjaman (kredit)",
            render: function (data) {
              return formatRupiah(data);
            },
          },
          {
            title: "Tenor",
            data: "Jangka Waktu (Tenor)",
          },
          {
            title: "Angsuran",
            data: "Angsuran",
          },
          {
            title: "Jumlah Angsuran",
            data: "Jumlah Angsuran",
            render: function (data) {
              return formatRupiah(data);
            },
          },
          {
            title: "Angsuran ke",
            data: "Angsuran ke-n",
          },
          {
            title: "Sisa Angsuran",
            data: "Sisa Angsuran",
            render: function (data) {
              return formatRupiah(data);
            },
          },
          {
            title: "Status",
            data: "Status",
          },
      ],
      rowId: "Tanggal",
      liveAjax: true,
      pageLength: 50,
      scrollX: true
    });
  });

 
    </script>
  </body>
</html>
